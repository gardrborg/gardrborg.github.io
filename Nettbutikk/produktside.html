<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="Hovedside.css">
  </head>
  <body>
    <script src="https://www.gstatic.com/firebasejs/5.9.3/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyBkRfsp9UK-UjN7IzWCs9SRUDmoleDxUBc",
        authDomain: "nettbutikk-79d79.firebaseapp.com",
        databaseURL: "https://nettbutikk-79d79.firebaseio.com",
        projectId: "nettbutikk-79d79",
        storageBucket: "nettbutikk-79d79.appspot.com",
        messagingSenderId: "832632369417"
      };
      firebase.initializeApp(config);
    </script>
      <header>
      </header>
      <script>
      const main = document.querySelector("main");

        var url_string = window.location.href
        var url = new URL(url_string);
        var id = url.searchParams.get("id");
        console.log(id);

      const db = firebase.database();
      const Varer = db.ref("Varer/" + id)
      const Bukse = db.ref("Varer/Bukse/"+ id)
      const Gucci = db.ref("Varer/Gucci/"+ id)
      const HugoBoss = db.ref("Varer/HugoBoss/" + id)
      const Jakke = db.ref("Varer/Jakke/" + id)
      const LouisVuitton = db.ref("Varer/LouisVuitton/" + id)
      const Sko = db.ref("Varer/Sko/" + id)
      const Supreme = db.ref("Varer/Supreme/" + id)
      const Versace = db.ref("Varer/Versace/" + id)

      function visVarer(snapshot){
            //Javascript-funksjon som skriver varene ut på nettsiden i main-elementet
          console.log(snapshot.val());
          let Varer = snapshot.val();
          let key = snapshot.key;

          main.innerHTML +=`
              <article class="Varer">
                <img src=${Varer.Bilde}>
                <p>Pris :${Varer.Pris}</p>
                <p>Merke:${Varer.Merke}</p>
                <p>Plagg: ${Varer.Plagg}</p>
                <p>Farge: ${Varer.Farge}</p>
                <p>Størrelse: ${varer.Størrelse}</p>
              </article>
          `
      }

      if (id.charAt(0) === "B"){
        Bukse.on("value", visVarer);
      }
      else if(id.charAt(0) === "G"){
        Gucci.on("value", visVarer);
      }
      else if(id.charAt(0) === "H"){
        HugoBoss.on("value", visVarer);
      }
      else if(id.charAt(0) === "J"){
        Jakke.on("value", visVarer);
      }
      else if(id.charAt(0) === "L"){
        LouisVuitton.on("value", visVarer);
      }
      else if(id.charAt(0) === "SK"){
        Sko.on("value", visVarer);
      }
      else if(id.charAt(0) === "S"){
        Supreme.on("value", visVarer);
      }
      else if(id.charAt(0) === "V"){
        Versace.on("value", visVarer);
      }

    //  varer
    //  .on("value",visVarer)
      </script>

  </body>
</html>
